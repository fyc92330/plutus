<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<!--    This file generated by program.   -->
<!--         Do Not Modify It.            -->
<!-- Genertion Time : 2022-02-26 15:56:03 -->
<mapper namespace="org.chun.plutus.common.dao.base.ActivityDtBaseDao">

    <resultMap id="vo" type="activityDtVo">
        <id column="acd_num" property="acdNum" />
        <result column="act_num" property="actNum" />
        <result column="acd_title" property="acdTitle" />
        <result column="start_date" property="startDate" />
        <result column="end_date" property="endDate" />
        <result column="cost" property="cost" />
        <result column="pay_type" property="payType" />
        <result column="pre_paid_user" property="prePaidUser" />
    </resultMap>

    <sql id="columnsAlias">
        ${alias}.acd_num                      as ${prefix}acd_num,
        ${alias}.act_num                      as ${prefix}act_num,
        ${alias}.acd_title                    as ${prefix}acd_title,
        D19(${alias}.start_date)              as ${prefix}start_date,
        D19(${alias}.end_date)                as ${prefix}end_date,
        ${alias}.cost                         as ${prefix}cost,
        ${alias}.pay_type                     as ${prefix}pay_type,
        ${alias}.pre_paid_user                as ${prefix}pre_paid_user
    </sql>

    <select id="query" resultMap="vo">
        select
        <include refid="columnsAlias">
            <property name="alias" value="activityDt"/>
            <property name="prefix" value=""/>
        </include>
        from activity_dt activityDt
        <trim prefix="where" prefixOverrides="and | or">
            <if test="acdNum!=null">and acd_num=#{acdNum}</if>
            <if test="actNum!=null">and act_num=#{actNum}</if>
            <if test="acdTitle!=null">and acd_title=#{acdTitle}</if>
            <if test="startDate!=null">and start_date=to_timestamp(#{startDate}, 'YYYY-MM-DD HH24:MI:SS')</if>
            <if test="endDate!=null">and end_date=to_timestamp(#{endDate}, 'YYYY-MM-DD HH24:MI:SS')</if>
            <if test="cost!=null">and cost=#{cost}</if>
            <if test="payType!=null">and pay_type=#{payType}</if>
            <if test="prePaidUser!=null">and pre_paid_user=#{prePaidUser}</if>
        </trim>
    </select>

    <select id="listAll" resultMap="vo">
        select
        <include refid="columnsAlias">
            <property name="alias" value="activityDt"/>
            <property name="prefix" value=""/>
        </include>
        from activity_dt activityDt
    </select>

    <select id="count" resultType="Integer">
        select count(*)
        from activity_dt
        <trim prefix="where" prefixOverrides="and | or">
            <if test="acdNum!=null">and acd_num=#{acdNum}</if>
            <if test="actNum!=null">and act_num=#{actNum}</if>
            <if test="acdTitle!=null">and acd_title=#{acdTitle}</if>
            <if test="startDate!=null">and start_date=to_timestamp(#{startDate}, 'YYYY-MM-DD HH24:MI:SS')</if>
            <if test="endDate!=null">and end_date=to_timestamp(#{endDate}, 'YYYY-MM-DD HH24:MI:SS')</if>
            <if test="cost!=null">and cost=#{cost}</if>
            <if test="payType!=null">and pay_type=#{payType}</if>
            <if test="prePaidUser!=null">and pre_paid_user=#{prePaidUser}</if>
        </trim>
    </select>

    <insert id="insert" useGeneratedKeys="true" keyColumn="acd_num" keyProperty="acdNum">
        insert into activity_dt (
        <trim prefix="" prefixOverrides=",">
                <if test="acdNum!=null">, acd_num</if>
                <if test="actNum!=null">, act_num</if>
                <if test="acdTitle!=null">, acd_title</if>
                <if test="startDate!=null">, start_date</if>
                <if test="endDate!=null">, end_date</if>
                <if test="cost!=null">, cost</if>
                <if test="payType!=null">, pay_type</if>
                <if test="prePaidUser!=null">, pre_paid_user</if>
        </trim>
        ) values (
        <trim prefix="" prefixOverrides=",">
                <if test="acdNum!=null">, #{acdNum}</if>
                <if test="actNum!=null">, #{actNum}</if>
                <if test="acdTitle!=null">, #{acdTitle}</if>
                <if test="startDate!=null">, to_timestamp(#{startDate}, 'YYYY-MM-DD HH24:MI:SS')</if>
                <if test="endDate!=null">, to_timestamp(#{endDate}, 'YYYY-MM-DD HH24:MI:SS')</if>
                <if test="cost!=null">, #{cost}</if>
                <if test="payType!=null">, #{payType}</if>
                <if test="prePaidUser!=null">, #{prePaidUser}</if>
        </trim>
        )
    </insert>

    <delete id="delete">
        delete from activity_dt
        <trim prefix="where" prefixOverrides="and">
            <if test="acdNum!=null">and acd_num=#{acdNum}</if>
            <if test="actNum!=null">and act_num=#{actNum}</if>
            <if test="acdTitle!=null">and acd_title=#{acdTitle}</if>
            <if test="startDate!=null">and start_date=to_timestamp(#{startDate}, 'YYYY-MM-DD HH24:MI:SS')</if>
            <if test="endDate!=null">and end_date=to_timestamp(#{endDate}, 'YYYY-MM-DD HH24:MI:SS')</if>
            <if test="cost!=null">and cost=#{cost}</if>
            <if test="payType!=null">and pay_type=#{payType}</if>
            <if test="prePaidUser!=null">and pre_paid_user=#{prePaidUser}</if>
        </trim>
    </delete>


    <select id="getByPk" resultMap="vo">
        select
        <include refid="columnsAlias">
            <property name="alias" value="activityDt"/>
            <property name="prefix" value=""/>
        </include>
        from activity_dt activityDt
        where
            acd_num=#{acdNum}
    </select>

    <delete id="deleteByPk">
        delete from activity_dt
        where
            acd_num=#{acdNum}
    </delete>

    <update id="update">
        update activity_dt
        <trim prefix="set" prefixOverrides=",">

            <if test="actNum!=null">, act_num=#{actNum}</if>
            <if test="acdTitle!=null">
                <if test="acdTitle!=''">, acd_title=#{acdTitle}</if>
                <if test="acdTitle==''">, acd_title=null</if>
            </if>
            <if test="startDate!=null">
                <if test="startDate!=''">, start_date=to_timestamp(#{startDate}, 'YYYY-MM-DD HH24:MI:SS')</if>
                <if test="startDate==''">, start_date=null</if>
            </if>
            <if test="endDate!=null">
                <if test="endDate!=''">, end_date=to_timestamp(#{endDate}, 'YYYY-MM-DD HH24:MI:SS')</if>
                <if test="endDate==''">, end_date=null</if>
            </if>
            <if test="cost!=null">, cost=#{cost}</if>
            <if test="payType!=null">
                <if test="payType!=''">, pay_type=#{payType}</if>
                <if test="payType==''">, pay_type=null</if>
            </if>
            <if test="prePaidUser!=null">, pre_paid_user=#{prePaidUser}</if>
        </trim>
        where
            acd_num=#{acdNum}
    </update>

    <update id="forceUpdate">
        update activity_dt
        <trim prefix="set" prefixOverrides=",">
                            , act_num=#{actNum}

        <if test="acdTitle!=''">, acd_title=#{acdTitle}</if>
        <if test="acdTitle==''">, acd_title=null</if>

        <if test="startDate!=''">, start_date=to_timestamp(#{startDate}, 'YYYY-MM-DD HH24:MI:SS')</if>
        <if test="startDate==''">, start_date=null</if>

        <if test="endDate!=''">, end_date=to_timestamp(#{endDate}, 'YYYY-MM-DD HH24:MI:SS')</if>
        <if test="endDate==''">, end_date=null</if>

                            , cost=#{cost}

        <if test="payType!=''">, pay_type=#{payType}</if>
        <if test="payType==''">, pay_type=null</if>

                            , pre_paid_user=#{prePaidUser}

        </trim>
        where
            acd_num=#{acdNum}
    </update>

</mapper>

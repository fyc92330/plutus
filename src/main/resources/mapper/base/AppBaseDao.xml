<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="org.chun.plutus.common.dao.base.AppUserBaseDao">

    <resultMap id="vo" type="org.chun.plutus.common.vo.AppUserVo">
        <id property="userNum" column="USER_NUM"/>
        <result property="userName" column="USER_NAME"/>
        <result property="userDesc" column="USER_DESC"/>
        <result property="userGender" column="USER_GENDER"/>
        <result property="userMobile" column="USER_MOBILE"/>
        <result property="userEmail" column="USER_EMAIL"/>
        <result property="lineUserId" column="LINE_USER_ID"/>
        <result property="userPwd" column="USER_PWD"/>
    </resultMap>

    <sql id="columnsAlias">
        ${alias}.user_num                      as ${prefix}user_num,
        ${alias}.user_name                     as ${prefix}user_name,
        ${alias}.user_desc                     as ${prefix}user_desc,
        ${alias}.user_gender                   as ${prefix}user_gender,
        ${alias}.user_mobile                   as ${prefix}user_mobile,
        ${alias}.user_email                    as ${prefix}user_email,
        ${alias}.line_user_id                  as ${prefix}line_user_id,
        ${alias}.user_pwd                      as ${prefix}user_pwd
    </sql>

    <select id="query" resultMap="vo">
        select
        <include refid="columnsAlias">
            <property name="alias" value="paymentUser"/>
            <property name="prefix" value=""/>
        </include>
        from payment_user paymentUser
        <trim prefix="where" prefixOverrides="and | or">
            <if test="user_num!=null">and user_num=#{userNum}</if>
            <if test="user_name!=null">and user_name=#{userName}</if>
            <if test="user_desc!=null">and user_desc=#{userDesc}</if>
            <if test="user_gender!=null">and user_gender=#{userGender}</if>
            <if test="user_mobile!=null">and user_mobile=#{userMobile}</if>
            <if test="user_email!=null">and user_email=#{userEmail}</if>
            <if test="line_user_id!=null">and line_user_id=#{lineUserId}</if>
            <if test="user_pwd!=null">and user_pwd=#{userPwd}</if>
        </trim>
    </select>

    <select id="listAll" resultMap="vo">
        select
        <include refid="columnsAlias">
            <property name="alias" value="paymentUser"/>
            <property name="prefix" value=""/>
        </include>
        from payment_user paymentUser
    </select>

    <select id="count" resultType="Integer">
        select count(*)
        from payment_user
        <trim prefix="where" prefixOverrides="and | or">
            <if test="user_num!=null">and user_num=#{userNum}</if>
            <if test="user_name!=null">and user_name=#{userName}</if>
            <if test="user_desc!=null">and user_desc=#{userDesc}</if>
            <if test="user_gender!=null">and user_gender=#{userGender}</if>
            <if test="user_mobile!=null">and user_mobile=#{userMobile}</if>
            <if test="user_email!=null">and user_email=#{userEmail}</if>
            <if test="line_user_id!=null">and line_user_id=#{lineUserId}</if>
            <if test="user_pwd!=null">and user_pwd=#{userPwd}</if>
        </trim>
    </select>

    <insert id="insert" useGeneratedKeys="true" keyColumn="user_num" keyProperty="userNum">
        insert into payment_user (
        <trim prefix="" prefixOverrides=",">
            <if test="user_num!=null">, user_num=#{userNum}</if>
            <if test="user_name!=null">, user_name=#{userName}</if>
            <if test="user_desc!=null">, user_desc=#{userDesc}</if>
            <if test="user_gender!=null">, user_gender=#{userGender}</if>
            <if test="user_mobile!=null">, user_mobile=#{userMobile}</if>
            <if test="user_email!=null">, user_email=#{userEmail}</if>
            <if test="line_user_id!=null">, line_user_id=#{lineUserId}</if>
            <if test="user_pwd!=null">, user_pwd=#{userPwd}</if>
        </trim>
        ) values (
        <trim prefix="" prefixOverrides=",">
            <if test="user_num!=null">, user_num=#{userNum}</if>
            <if test="user_name!=null">, user_name=#{userName}</if>
            <if test="user_desc!=null">, user_desc=#{userDesc}</if>
            <if test="user_gender!=null">, user_gender=#{userGender}</if>
            <if test="user_mobile!=null">, user_mobile=#{userMobile}</if>
            <if test="user_email!=null">, user_email=#{userEmail}</if>
            <if test="line_user_id!=null">, line_user_id=#{lineUserId}</if>
            <if test="user_pwd!=null">, user_pwd=#{userPwd}</if>
        </trim>
        )
    </insert>

    <delete id="delete">
        delete from payment_user paymentUser
        <trim prefix="where" prefixOverrides="and | or">
            <if test="user_num!=null">and user_num=#{userNum}</if>
            <if test="user_name!=null">and user_name=#{userName}</if>
            <if test="user_desc!=null">and user_desc=#{userDesc}</if>
            <if test="user_gender!=null">and user_gender=#{userGender}</if>
            <if test="user_mobile!=null">and user_mobile=#{userMobile}</if>
            <if test="user_email!=null">and user_email=#{userEmail}</if>
            <if test="line_user_id!=null">and line_user_id=#{lineUserId}</if>
            <if test="user_pwd!=null">and user_pwd=#{userPwd}</if>
        </trim>
    </delete>

    <select id="getByPk" resultMap="vo">
        select
        <include refid="columnsAlias">
            <property name="alias" value="paymentUser"/>
            <property name="prefix" value=""/>
        </include>
        from payment_user paymentUser
        where user_num=#{userNum}
    </select>

    <delete id="deleteByPk">
        delete from payment_user
        where user_num=#{userNum}
    </delete>

    <update id="update">
        update payment_user
        <trim prefix="set" prefixOverrides=",">
            <if test="userNum!=null">
                <if test="userNum!=''">, user_num=#{userNum}</if>
                <if test="userNum==''">, user_num=null</if>
            </if>
            <if test="userName!=null">
                <if test="userName!=''">, user_name=#{userName}</if>
                <if test="userName==''">, user_name=null</if>
            </if>
            <if test="userDesc!=null">
                <if test="userDesc!=''">, user_desc=#{userDesc}</if>
                <if test="userDesc==''">, user_desc=null</if>
            </if>
            <if test="userGender!=null">
                <if test="userGender!=''">, user_gender=#{userGender}</if>
                <if test="userGender==''">, user_gender=null</if>
            </if>
            <if test="userMobile!=null">
                <if test="userMobile!=''">, user_mobile=#{userMobile}</if>
                <if test="userMobile==''">, user_mobile=null</if>
            </if>
            <if test="userEmail!=null">
                <if test="userEmail!=''">, user_email=#{userEmail}</if>
                <if test="userEmail==''">, user_email=null</if>
            </if>
            <if test="lineUserId!=null">
                <if test="lineUserId!=''">, line_user_id=#{lineUserId}</if>
                <if test="lineUserId==''">, line_user_id=null</if>
            </if>
            <if test="userPwd!=null">
                <if test="userPwd!=''">, user_pwd=#{userPwd}</if>
                <if test="userPwd==''">, user_pwd=null</if>
            </if>
        </trim>
        where
        user_num=#{userNum}
    </update>

    <update id="forceUpdate">
        update payment_user
        <trim prefix="set" prefixOverrides=",">
            <if test="userName!=''">, user_name=#{userName}</if>
            <if test="userName==''">, user_name=null</if>

            <if test="userDesc!=''">, user_desc=#{userDesc}</if>
            <if test="userDesc==''">, user_desc=null</if>

            <if test="userGender!=''">, user_gender=#{userGender}</if>
            <if test="userGender==''">, user_gender=null</if>

            <if test="userMobile!=''">, user_mobile=#{userMobile}</if>
            <if test="userMobile==''">, user_mobile=null</if>

            <if test="userEmail!=''">, user_email=#{userEmail}</if>
            <if test="userEmail==''">, user_email=null</if>

            <if test="lineUserId!=''">, line_user_id=#{lineUserId}</if>
            <if test="lineUserId==''">, line_user_id=null</if>

            <if test="userPwd!=''">, user_pwd=#{userPwd}</if>
            <if test="userPwd==''">, user_pwd=null</if>
        </trim>
        where
        user_num=#{userNum}
    </update>

</mapper>
